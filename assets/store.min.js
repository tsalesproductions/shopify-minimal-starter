$("#filter-button,#close-sidebar,#sidebar-overlay").click(()=>{$("#sidebar-overlay,#sidebar-container").toggleClass("active")}),$(".full-banners .banners.carrossel-enabled").slick({infinite:!0,autoplay:!0,autoplaySpeed:3500,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,prevArrow:`<button type="button" class="slick-prev" aria-label="Previous">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M15 18l-6-6 6-6" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>`,nextArrow:`<button type="button" class="slick-next" aria-label="Next">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M9 6l6 6-6 6" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>`});class mainProduct{constructor(){console.log(window.currentProduct),this.currentProduct=window.currentProduct||{}}quantitySelector(){let t=document.getElementById("Quantity-"+window.currentSectionId);document.querySelector('[form-add-to-cart] input[name="id"]')&&document.querySelector('[form-add-to-cart] input[name="id"]').value;t&&(document.querySelector("[data-decrease-quantity]").addEventListener("click",function(){var e=parseInt(t.value);1<e&&(t.value=e-1)}),document.querySelector("[data-increase-quantity]").addEventListener("click",function(){t.value=parseInt(t.value)+1}))}imageSelect(){let r=this;document.querySelectorAll(".product-image-thumbnail"),document.getElementById("featured-image");$(".product-image-thumbnail").click(function(){let t=$(this).attr("data-media-id");var e=r.currentProduct.media.find(e=>e.id===parseInt(t));e&&$("#featured-image").removeAttr("srcset").attr("src",e.src)})}setError(e){e?$(".product-message-error").removeClass("hidden").find("p").text(e):$(".product-message-error").addClass("hidden")}variantPicker(){let t=this;$(".variant-list input[type='radio']").on("change",function({target:e}){$("#Quantity-"+window.currentSectionId).val(1),$(e).closest(".variant-list").find("input[type='radio']").removeAttr("checked"),$(e).closest(".custom-radio").find("input[type='radio']").attr("checked","checked"),t.checkVariantStock()}),$(".variant-list input[type='radio']:checked").trigger("change")}checkVariantStock(){let r=Array.from($(".variant-list input[type='radio']:checked")).map(e=>e.value);var e=this.currentProduct.variants.find(e=>e.options.every((e,t)=>e===r[t]));!e||(this.updatePrice(e.id),!1===e.available)?(this.setError("Esta variante não está disponível."),document.querySelector("[data-add-to-cart]").setAttribute("disabled","disabled")):(this.setError(""),document.querySelector("[data-add-to-cart]").removeAttribute("disabled"),document.querySelector('[form-add-to-cart] input[name="id"]')&&(document.querySelector('[form-add-to-cart] input[name="id"]').value=e.id))}updatePrice(e){$.get("?sections=product-variant-price&variant="+e,function(e){e=JSON.parse(e)["product-variant-price"];var t=document.querySelector("[data-price-area]"),e=(new DOMParser).parseFromString(e,"text/html");t&&(t.innerHTML=e.querySelector(".shopify-section").innerHTML)})}buyWithAjax(){var e=document.querySelector("[data-add-to-cart]");e&&e.addEventListener("click",function(e){window.progress.start(),e.preventDefault();e=document.querySelector('form[action="/cart/add"]'),e=new FormData(e);fetch("/cart/add.js",{method:"POST",body:e,headers:{Accept:"application/json"}}).then(e=>e.json()).then(e=>{console.log("Product added to cart:",e),window.updateMinicart(),window.openMinicart()}).catch(e=>console.error("Error adding product to cart:",e)).finally(()=>{window.progress.end()})})}tabChange(){$(".product-tabs button").on("click",function(){var e=$(this).data("tab");$(".product-tabs button").removeClass("border-b-2 border-black").addClass("text-gray-500"),$(this).removeClass("text-gray-500").addClass("border-b-2 border-black"),$(".tab-content").addClass("hidden"),$(`#${e}-tab`).removeClass("hidden")}),$(".product-tabs button").first().trigger("click")}init(){this.variantPicker(),this.quantitySelector(),this.imageSelect(),this.buyWithAjax(),this.tabChange()}}function ajaxItemCart(){document.querySelectorAll("[data-ajax-cart]").forEach(o=>{o.addEventListener("submit",function(e){console.log("Form submitted:",o),e.preventDefault();var e=new FormData(o),t=o.getAttribute("action"),r=o.getAttribute("method")||"POST";fetch(t,{method:r,body:e,headers:{Accept:"application/json"}}).then(e=>e.json()).then(e=>{console.log("Cart updated:",e)}).catch(e=>console.error("Error updating cart:",e)).finally(()=>{window.updateMinicart()})})})}$(document).ready(function(){(new mainProduct).init()}),window.updateMinicart=function(){fetch("/cart?view=minicart").then(function(e){return e.text()}).then(function(e){var r=document.createElement("div"),e=(r.innerHTML=e,r.querySelector(".cart-container")),r=document.querySelector(".cart-container");if(r&&e){r.innerHTML=e.innerHTML,cartSettings(),ajaxItemCart();let t=0;r.querySelectorAll(".cart-item").forEach(function(e){e=parseInt(e.querySelector(".total-qtd").textContent);t+=e});e=document.querySelectorAll("[data-cart-qtd]");0<e.length&&e.forEach(function(e){e.textContent=t})}})},window.openMinicart=function(){document.getElementById("cart-sidebar")&&(window.cartSidebar.classList.remove("translate-x-full"),window.overlay.classList.remove("hidden"),document.body.style.overflow="hidden")},ajaxItemCart();let preloader=document.querySelector(".preloader "),menuButton=(preloader&&window.addEventListener("load",()=>{setTimeout(()=>{preloader.classList.remove("show")},1500)}),window.progress={start:()=>NProgress.start(),end:()=>NProgress.done()},document.querySelectorAll("[data-loading],[data-loading-white]").forEach(e=>{let t=e.getAttribute("data-loading-timer")||1200;e.addEventListener("click",()=>{e.classList.add("loading"),setTimeout(()=>{e.classList.remove("loading")},t)})}),document.getElementById("menu-button")),closeMenuButton=document.getElementById("close-menu"),sidebar=document.getElementById("sidebar"),overlay=document.getElementById("overlay");function cartSettings(){var e=document.getElementById("cart-button"),t=document.getElementById("close-cart");let r=document.getElementById("cart-sidebar");window.cartButton=e,window.cartSidebar=r,window.closeCartButton=t,e?.addEventListener("click",()=>{r.classList.remove("translate-x-full"),overlay.classList.remove("hidden"),document.body.style.overflow="hidden"}),t?.addEventListener("click",()=>{r.classList.add("translate-x-full"),overlay.classList.add("hidden"),document.body.style.overflow="auto"}),overlay?.addEventListener("click",()=>{sidebar.classList.add("-translate-x-full"),r.classList.add("translate-x-full"),overlay.classList.add("hidden"),document.body.style.overflow="auto"})}function setupCarousel(e,t,r){let o=.75*r?.clientWidth;e?.addEventListener("click",()=>{r.scrollBy({left:-o,behavior:"smooth"})}),t?.addEventListener("click",()=>{r.scrollBy({left:o,behavior:"smooth"})})}menuButton?.addEventListener("click",()=>{sidebar.classList.remove("-translate-x-full"),overlay.classList.remove("hidden"),document.body.style.overflow="hidden"}),closeMenuButton?.addEventListener("click",()=>{sidebar.classList.add("-translate-x-full"),overlay.classList.add("hidden"),document.body.style.overflow="auto"}),cartSettings(),document.addEventListener("DOMContentLoaded",()=>{setupCarousel(document.getElementById("category-prev"),document.getElementById("category-next"),document.querySelector(".category-carousel")),setupCarousel(document.getElementById("new-releases-prev"),document.getElementById("new-releases-next"),document.querySelectorAll(".product-carousel")[0]),setupCarousel(document.getElementById("featured-prev"),document.getElementById("featured-next"),document.querySelectorAll(".product-carousel")[1]),setupCarousel(document.getElementById("wholesale-prev"),document.getElementById("wholesale-next"),document.querySelectorAll(".product-carousel")[2]),setupCarousel(document.getElementById("reviews-prev"),document.getElementById("reviews-next"),document.querySelector(".reviews-carousel"))});let touchStartX=0,touchEndX=0;function handleSwipe(e){50<touchStartX-touchEndX?e.scrollBy({left:.5*e.clientWidth,behavior:"smooth"}):50<touchEndX-touchStartX&&e.scrollBy({left:.5*-e.clientWidth,behavior:"smooth"})}let allCarousels=[document.querySelector(".category-carousel"),...document.querySelectorAll(".product-carousel"),document.querySelector(".reviews-carousel")];allCarousels.forEach(t=>{t?.addEventListener("touchstart",e=>{touchStartX=e.changedTouches[0].screenX}),t?.addEventListener("touchend",e=>{touchEndX=e.changedTouches[0].screenX,handleSwipe(t)})}),document.querySelectorAll(".wpp-btn").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),setTimeout(()=>{var e=t.getAttribute("data-link");e&&window.open(e,"_blank")},600)})});